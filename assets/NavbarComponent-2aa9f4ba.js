import{e as p,m as v,_ as h,r as _,o as m,c as k,a as n,d as s,f as e,b,g as o}from"./index-9e937c02.js";import{a as g}from"./apiStore-8e3d4a6d.js";const f={components:{RouterLink:p},methods:{checkUser(){const c=`${this.VITE_API}v2/api/user/check`,a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a,this.$http.post(c).then(r=>{const{success:l,message:i}=r.data;l||(alert(i),this.$router.push("/"))}).catch(r=>{const{message:l}=r.response.data;alert(l),this.$router.push("/")})},logout(){const c=`${this.VITE_API}v2/logout`;this.$http.post(c).then(a=>{const{message:r}=a.data;alert(r),this.$router.push("/")}).catch(a=>{alert(a)})}},computed:{...v(g,["VITE_API"])},mounted(){this.checkUser()}},$={class:"navbar navbar-expand-lg navbar-dark bg-dark"},N={class:"container-fluid"},x=n("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[n("span",{class:"navbar-toggler-icon"})],-1),A={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},T={class:"navbar-nav"},I={class:"navbar-nav ms-auto"};function V(c,a,r,l,i,d){const t=_("router-link");return m(),k("nav",$,[n("div",N,[s(t,{to:"/admin",class:"navbar-brand"},{default:e(()=>[o("香菇園")]),_:1}),x,n("div",A,[n("div",T,[s(t,{to:"/admin/products",class:"nav-link"},{default:e(()=>[o("產品")]),_:1}),s(t,{to:"/admin/orders",class:"nav-link"},{default:e(()=>[o("訂單")]),_:1}),s(t,{to:"/admin/coupons",class:"nav-link"},{default:e(()=>[o("優惠券")]),_:1}),s(t,{to:"/admin/articles",class:"nav-link"},{default:e(()=>[o("貼文")]),_:1}),n("a",{href:"#",onClick:a[0]||(a[0]=b((...u)=>d.logout&&d.logout(...u),["prevent"])),class:"nav-link"},"登出")]),n("div",I,[s(t,{to:"/user/articles",class:"nav-link"},{default:e(()=>[o("Blog")]),_:1}),s(t,{to:"/user/cart",class:"nav-link"},{default:e(()=>[o("購物車")]),_:1})])])])])}const M=h(f,[["render",V]]);export{M as N};
